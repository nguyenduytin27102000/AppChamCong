@model TimeKeeping.Models.Personnel

@{
	ViewData["Title"] = "Create new employee";
}

<link href="~/css/button-style.css" rel="stylesheet" />

<h4 class="text-center">Create new employee</h4>
@if (ViewData["Message"] != null)
{
	<div class="alert alert-@ViewData["Status"]" role="alert">
		@ViewData["Message"]
	</div>
}
<hr />
<div class="row">
	<div class="col-md-12">
		<form asp-action="Create" id="createEmployeeForm">
			<div asp-validation-summary="ModelOnly" class="text-danger"></div>
			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="FirstName" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="FirstName" class="form-control" rules="required|onlyCharacter" />
							<small class="text-muted">Please enter unsigned</small>
							<span asp-validation-for="FirstName" class="text-danger form-message"></span>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="LastName" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="LastName" class="form-control" rules="required|onlyCharacter" />
							<small class="text-muted">Please enter unsigned</small>
							<span asp-validation-for="LastName" class="text-danger form-message"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="Sex" class="control-label"></label>
						</div>
						<div class="col-9">
							<div class="checkbox">
								Male <input type="radio" asp-for="Sex" value="True" checked="checked" />
								Female <input type="radio" asp-for="Sex" value="False" />
								<span asp-validation-for="Sex" class="text-danger form-message"></span>
							</div>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="DateOfBirth" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="DateOfBirth" class="form-control" rules="required" />
							<span asp-validation-for="DateOfBirth" class="text-danger form-message"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="Phone" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="Phone" class="form-control" rules="required|phoneNumber" />
							<span asp-validation-for="Phone" class="text-danger form-message"></span>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="Email" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="Email" class="form-control" rules="required|onlyEmail" />
							<span asp-validation-for="Email" class="text-danger form-message"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="PersonnelAddress" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="PersonnelAddress" class="form-control" rules="required" />
							<span asp-validation-for="PersonnelAddress" class="text-danger form-message"></span>
						</div>
					</div>

				</div>
			</div>
			<hr />

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="TypePersonnelId" class="control-label"></label>
						</div>
						<div class="col-9">
							<select asp-for="TypePersonnelId" class="form-control" asp-items="ViewBag.TypePersonnelId"></select>
							<span asp-validation-for="TypePersonnelId" class="text-danger"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="OfficeId" class="control-label"></label>
						</div>
						<div class="col-9">
							<select asp-for="OfficeId" class="form-control" asp-items="ViewBag.OfficeId"></select>
							<span asp-validation-for="OfficeId" class="text-danger"></span>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="WorkingAreaId" class="control-label"></label>
						</div>
						<div class="col-9">
							<select asp-for="WorkingAreaId" class="form-control" asp-items="ViewBag.WorkingAreaId"></select>
							<span asp-validation-for="WorkingAreaId" class="text-danger"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="PositionId" class="control-label"></label>
						</div>
						<div class="col-9">
							<select asp-for="PositionId" class="form-control" asp-items="ViewBag.PositionId"></select>
							<span asp-validation-for="PositionId" class="text-danger"></span>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="WorkScheduleId" class="control-label"></label>
						</div>
						<div class="col-9">
							<select asp-for="WorkScheduleId" class="form-control" asp-items="ViewBag.WorkScheduleId"></select>
							<span asp-validation-for="WorkScheduleId" class="text-danger"></span>
						</div>
					</div>
				</div>
			</div>
			<hr />

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="SalaryPolicyId" class="control-label"></label>
						</div>
						<div class="col-9">
							<select asp-for="SalaryPolicyId" class="form-control" asp-items="ViewBag.SalaryPolicyId"></select>
							<span asp-validation-for="SalaryPolicyId" class="text-danger"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="BasicSalary" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="BasicSalary" class="form-control" rules="required|onlyNumber" />
							<span asp-validation-for="BasicSalary" class="text-danger form-message"></span>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="ActualSalary" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="ActualSalary" class="form-control" rules="required|onlyNumber" />
							<span asp-validation-for="ActualSalary" class="text-danger form-message"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="StartDate" class="control-label"></label>
						</div>	
						<div class="col-9">
							<input asp-for="StartDate" class="form-control required" />
							<span asp-validation-for="StartDate" class="text-danger form-message"></span>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="OfficialDate" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="OfficialDate" class="form-control" />
							<span asp-validation-for="OfficialDate" class="text-danger"></span>
						</div>
					</div>
				</div>
			</div>
			<hr />

			<div class="row">
				<div class="col-6">
					<div class="form-group row">
						<div class="col-3">
							<label asp-for="Title" class="control-label"></label>
						</div>
						<div class="col-9">
							<input asp-for="Title" class="form-control" rules="required" />
							<span asp-validation-for="Title" class="text-danger form-message"></span>
						</div>
					</div>
				</div>
			</div>

			<div class="form-group">
				<input type="submit" value="Create" class="btn btn-secondary" />
				<input type="reset" value="Reset" class="btn btn-secondary" />
				<a asp-action="Index" class="btn btn-secondary">Back</a>
			</div>
		</form>
	</div>
</div>

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
		<script src="~/js/Validator.js"></script>

		<script>
			const validator = Validator('#createEmployeeForm', '.form-group', '.form-message', 'invalid');
		</script>
	}


	@* Reload to list (Index) *@
	@if (ViewData["Message"] != null)
	{
		<script>
		function pageRedirect() {
			window.location.href = '@Url.Action("Index", "Personnels")';
		}
		setTimeout("pageRedirect()", 5000);
		</script>
	}
}